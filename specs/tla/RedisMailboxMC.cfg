\* TLC Configuration for RedisMailbox Model Checking
\*
\* This configuration uses small constants for exhaustive state space
\* exploration. Larger values will exponentially increase checking time.

SPECIFICATION Spec

\* Constants for exhaustive checking
\* These values balance thoroughness with checking time
CONSTANTS
    MaxMessages = 2
    MaxDeliveries = 2
    NumConsumers = 2
    VisibilityTimeout = 2

\* Safety invariants - must hold in all reachable states
INVARIANTS
    MessageStateExclusive
    HandleValidity
    DeliveryCountMonotonic
    DeliveryCountPersistence
    NoMessageLoss
    HandleUniqueness

\* Liveness properties - with fairness assumptions
\* Note: EventualRequeue is disabled because TLC cannot handle temporal
\* formulas that quantify over state variable domains. The property is
\* verified through property-based tests instead.
\* PROPERTIES
\*     EventualRequeue

\* Symmetry sets for state space reduction (optional)
\* Uncomment if TLC supports symmetry with function domains
\* SYMMETRY ConsumerSymmetry

\* Enable simulation mode for larger models
\* Uncomment these lines to run probabilistic simulation instead of exhaustive check
\* SIMULATION
\*     NumSimulations = 1000
\*     TraceLength = 100
