\* TLC Configuration for RedisMailbox Model Checking
\*
\* This configuration uses small constants for exhaustive state space
\* exploration. Larger values will exponentially increase checking time.

SPECIFICATION Spec

\* Constants for exhaustive checking
\* These values balance thoroughness with checking time
CONSTANTS
    MaxMessages = 2
    MaxDeliveries = 2
    NumConsumers = 2
    VisibilityTimeout = 2

\* Safety invariants - must hold in all reachable states
INVARIANTS
    MessageStateExclusive
    HandleValidity
    DeliveryCountMonotonic
    DeliveryCountPersistence
    NoMessageLoss
    HandleUniqueness
    ReplyToPreservation

\* Liveness properties - with fairness assumptions
\* Note: EventualRequeue is disabled because TLC cannot handle temporal
\* formulas that quantify over state variable domains. The property is
\* verified through property-based tests instead.
\* PROPERTIES
\*     EventualRequeue

\* State constraint to bound time and make exhaustive check finish
\* Without this, the state space is unbounded due to Tick action
CONSTRAINT StateConstraint
